#!/usr/bin/env bash
#shellcheck disable=SC2089
#
# Make hires.html file
#
# Author: zenobit <zen@duck.com>
# Date: February 14, 2026
# License: MIT
#

_g "Creating hires.html"
file=hires
title="Hi-Res Wallpapers - Void Linux Artwork"
# Count hires
hiresPNG=$(find "assets/$file/" -type f -name "*.png" | wc -l)
hiresJPG=$(find "assets/$file/" -type f -name "*.jpg" | wc -l)
hiresJPGstart=$(( hiresPNG + 1 ))
hiresCount=$(find "assets/$file/" -type f -name "*" | wc -l)
export hiresPNG hiresJPG hiresJPGstart hiresCount

navbar=$(cat << EOF
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="High resolution wallpapers for Void Linux">
    <title>${title}</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar">
        <div class="nav-container">
            <div class="nav-brand">
                <h1>Void Artwork</h1>
            </div>
            <button class="nav-toggle" aria-label="Toggle navigation">
                <span></span>
                <span></span>
                <span></span>
            </button>
            <ul class="nav-menu">
                <li><a href="https://osowoso.org">oSoWoSo</a></li>
                <li><a href="index.html">Home</a></li>
                <li><a href="hires.html" class="active">Hi-Res Wallpapers</a></li>
                <li><a href="lowres.html">Low-Res Wallpapers</a></li>
                <li><a href="logos.html">Logos</a></li>
                <li><a href="grub.html">Grub Themes</a></li>
                <li>
                    <button class="theme-toggle" aria-label="Toggle theme">
                        <span class="icon light-icon active">‚òÄÔ∏è</span>
                        <span class="icon dark-icon">üåô</span>
                    </button>
                </li>
            </ul>
        </div>
    </nav>
EOF
)

header=$(cat << EOF
    <!-- Page Header -->
    <header class="page-header">
        <div class="logo-container">
            <img src="assets/logos/001.png" alt="Void Logo" class="logo">
        </div>
        <div class="container">
            <h2>High Resolution Wallpapers</h2>
            <p>Premium quality wallpapers for your desktop</p>
            <div class="gallery-count">
                <!-- // Change numbers if you add -->
                <span class="count-badge">${hiresCount} wallpapers</span>
            </div>
        </div>
    </header>
EOF
)

gallery=$(cat << 'EOF'
    <!-- Gallery -->
    <main class="container">
        <div class="gallery" id="gallery">
            <!-- Images will be loaded here by JavaScript -->
        </div>
    </main>

    <!-- Lightbox -->
    <div id="lightbox" class="lightbox">
        <button class="lightbox-close" aria-label="Close">&times;</button>
        <button class="lightbox-prev" aria-label="Previous">‚Äπ</button>
        <button class="lightbox-next" aria-label="Next">‚Ä∫</button>
        <div class="lightbox-content">
            <img src="" alt="" id="lightbox-img">
            <div class="lightbox-info">
                <span id="lightbox-counter"></span>
                <a id="lightbox-download" href="" download class="btn btn-small">Download</a>
            </div>
        </div>
    </div>
EOF
)

about='        <!-- About Section -->
        <section class="about">
            <h2>About This Collection</h2>
            <p>This repository contains a curated collection of artwork for Void Linux, including wallpapers, logos, and grub themes created by talented community members.</p>

            <h3>Credits</h3>
            <ul class="credits-list">
                <li><a href="https://github.com/siduck76" target="_blank">siduck76</a></li>
                <li><a href="https://github.com/mahmoudk1000" target="_blank">mahmoudk1000</a></li>
                <li><a href="https://github.com/Mangeshrex" target="_blank">Mangeshrex</a></li>
                <li><a href="https://alkusin.net/" target="_blank">alkusin.net</a></li>
                <li><a href="https://www.pixiv.net/en/users/60562229" target="_blank">raviolimavioli008</a></li>
                <li><a href="https://gitlab.com/Irkiosan" target="_blank">Irkiosan</a></li>
                <li><a href="https://github.com/gabriel-russo" target="_blank">gabriel-russo</a></li>
            </ul>

            <h3>Contributing</h3>
            <p>We welcome contributions! Please check our <a href="https://github.com/oSoWoSo/void-artwork" target="_blank">GitHub repository</a> for contribution guidelines.</p>
        </section>
    </main>
'

giscus='    <!-- Giscus -->
<script src="https://giscus.app/client.js"
        data-repo="osowoso/void-artwork"
        data-repo-id="R_kgDOGLPAbA"
        data-category="General"
        data-category-id="DIC_kwDOGLPAbM4CAHM_"
        data-mapping="pathname"
        data-strict="0"
        data-reactions-enabled="1"
        data-emit-metadata="0"
        data-input-position="bottom"
        data-theme="noborder_dark"
        data-lang="en"
        data-loading="lazy"
        crossorigin="anonymous"
        async>
</script>
'

footer=$(cat << EOF
    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <p>&copy; 2026 Void Linux Artwork Collection | Licensed under <a href="https://github.com/oSoWoSo/void-artwork/blob/main/LICENSE" target="_blank">CC-BY-4.0</a></p>
        </div>
    </footer>

    <script src="js/main.js"></script>
    <script src="js/gallery.js"></script>
    <script>
        // Change numbers if you add
        initGallery('assets/hires/', [
            { count: ${hiresPNG}, ext: 'png' },
            { count: ${hiresJPG}, ext: 'jpg', startFrom: ${hiresJPGstart} }
        ]);
    </script>
</body>
</html>
EOF
)

cat << EOF> "${file}.html"
${navbar}
${header}
${gallery}
${about}
${giscus}
${footer}
EOF

categories=$(cat << EOF
            <div class="category-card">
                <div class="category-icon">üñºÔ∏è</div>
                <h3>Hi-Res Wallpapers</h3>
                <p>High resolution wallpapers for your desktop</p>
                <!-- Change this numbers if you add theme -->
                <div class="category-count" data-path="assets/hires/" data-counts='[{"count":${hiresPNG},"ext":"png"},{"count":${hiresJPG},"ext":"jpg","startFrom":${hiresJPGstart}}]'>
                    <span class="count-number">${hiresCount}</span> images
                </div>
                <a href="hires.html" class="category-link">View Collection ‚Üí</a>
            </div>
EOF
)

echo "$categories" >> index.html
